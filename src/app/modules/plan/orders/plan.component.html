<div class="w-2/3 mx-auto mt-4 ">
    <p class="absolute top-[130px] left-[150px] text-4xl  text-white">Чертеж</p>
    <form  id="formDrawing" >
        <!-- Номер чертежа -->
        <div class="grid grid-cols-12 gap-2 items-end mt-8 ">
            <div>
                <label for="idDrawing" class="block mb-2 text-sm font-medium  text-white">ID {{idDrawing}}</label>
                <input type="number" id="idDrawing" name="idDrawing" [ngModel]="idDrawing" 
                    (keypress)="inputEnter($event)" autocomplete="off"
                    class="border  text-sm w-full block   py-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500">

            </div>

            <div class="col-span-2">
                <label for="numberDrawing" class="block mb-2 text-sm font-medium  text-white">Номер
                    {{drawingNamber}}</label>
                <input required type="text" id="numberDrawing" name="numberDrawing" [ngModel]="drawingNamber"
                    autocomplete="off" ngModel (keypress)="inputEnter($event)"
                    class="border  text-sm w-full block   py-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500">
            </div>


            <div class="col-span-2">
                <label for="nameDrawing" class="block mb-2 text-sm font-medium  text-white">Название</label>
                <input required type="text" id="nameDrawing" name="nameDrawing" [(ngModel)]="drawingName"
                    autocomplete="off"
                    class="border w-full text-sm  block  py-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500">
            </div>


            <div class="col-span-1">
                <label for="weightDrawing" class="  block mb-2 text-sm font-medium  text-white">Масса, кг</label>
                <input required type="number" id="weightDrawing" name="weightDrawing" [(ngModel)]="m" autocomplete="off"
                    class=" border  text-sm  block w-full py-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div class="col-span-">
                <label id="lblSquare" for="square" class="block mb-2 text-sm font-medium  text-white">S,м.кв.</label>
                <input required type="number" id="square" name="square" [(ngModel)]="s" autocomplete="off"
                    class="border  text-sm  block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div class="col-span-2 ">
                <label class=" text-sm font-medium text-white" for="selectFiles">Файлы: .jpeg, .jpg, .png, .pdf </label>
                <div class=" flex flex-row">
                    <input #inpFiles accept=".jpeg, .jpg, .png, .pdf" (change)="selectFiles()" ngModel
                        class="basis-2/3 text-sm py-2 px-1 border cursor-pointer  text-gray-600 focus:outline-none bg-gray-700 border-gray-600 "
                        id="selectFiles" name="selectFiles" type="file" multiple>
                    <label id="lblCountFiles"
                        class="basis-1/3 py-2 text-sm font-medium text-gray-400 bg-gray-700 border-y-2 border-r-2 border-gray-600"
                        for="selectFiles">0 шт.</label>
                </div>
            </div>

            <select id="selectPath" name="selectPath"
                class="col-span-2 border text-sm   px-1  py-3 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500">
                <option selected value=-1>Куда сохранить</option>
                <option *ngFor="let item of savePath" value={{item}}> {{item}} </option>
            </select>


            <button type="button" (click)="preparingTosaveDrawing()"
                class="col-span-1  py-3 text-sm font-medium text-white  focus:ring-4 focus:outline-none  text-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">Сохранить</button>
        </div>
    </form>
    <hr class="mt-4 border-gray-500">

    <div *ngIf="idDrawing">
        <!-- Параметры чертежа -->
        <div class="grid gap-4 grid-cols-12 items-end mt-6">
            <div class="col-span-3 flex rounded-md shadow-sm" role="group">
                <button *ngIf="isDrawingInfo" type="button"
                    class="w-1/2 px-2 py-2 text-sm font-medium  bg-transparent border  rounded-se-xl  focus:z-10   border-white text-white cursor-text">
                    Данные чертежа
                </button>
                <button *ngIf="!isDrawingInfo" type="button" (click)="isDrawingInfo=true"
                    class="w-1/2 px-2 py-2 text-sm font-medium  bg-gray-700 border  rounded-se-xl  focus:z-10   border-white text-white  hover:bg-gray-900">
                    Данные чертежа
                </button>
                <button *ngIf="isDrawingInfo" type="button" (click)="btnAddDataDrawings()"
                    class="w-1/2 px-2 py-2 text-sm font-medium bg-gray-700 border  rounded-se-xl  focus:z-10   border-white text-white  hover:bg-gray-900">
                    Добавить данные
                </button>
                <button *ngIf="!isDrawingInfo" type="button"
                    class="w-1/2 px-2 py-2 text-sm font-medium bg-transparent border  rounded-se-xl  focus:z-10    border-white text-white cursor-text">
                    Добавить данные
                </button>
            </div>

            <button type="button" (click)="btnBlanklClick()"
                class="col-span-2 col-start-7  px-2 py-3 text-sm font-medium text-white  focus:ring-4 focus:outline-none  text-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">
                {{isDrawingInfo?'Удалить заготовку':'Добавить заготовку'}}
            </button>
            <button (click)="btnMaterialClick()"
                class="col-span-2 block text-white focus:ring-4 focus:outline-none font-medium  text-sm px-2 py-3 text-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800"
                type="button">{{isDrawingInfo?'Удалить материал':'Добавить материал'}}
            </button>
            <button type="button" (click)="btnSpecificationClick()"
                class="col-span-2 px-2 py-3 text-sm font-medium text-white  focus:ring-4 focus:outline-none  text-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">
                {{isDrawingInfo?'Удалить позицию из СП':'Добавить позицию в СП'}}
            </button>


        </div>
        <hr class="mt-4 border-gray-500">

        <!-- Радио варианты -->
        <div *ngIf="!isDrawingInfo" class="flex gap-4 absolute top-[320px] right-[600px]">
            <div class="flex items-center ">
                <input *ngIf="radioMaterial===1" #roll id="roll" type="radio" checked name="roll"
                    (change)="changeRadio(roll,1)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <input *ngIf="radioMaterial!==1" #roll id="roll" type="radio" name="roll" (change)="changeRadio(roll,1)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <label for="roll" class="ms-2 text-sm font-medium  text-white">Прокат</label>
            </div>
            <div class="flex items-center ">
                <input *ngIf="radioMaterial===2" #hard id="hard" type="radio" checked name="hard"
                    (change)=" changeRadio(hard,2)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <input *ngIf="radioMaterial!==2" #hard id="hard" type="radio" name="hard"
                    (change)=" changeRadio(hard,2)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <label for="hard" class="ms-2 text-sm font-medium  text-white">Метизы</label>
            </div>
            <div class="flex items-center ">
                <input *ngIf="radioMaterial===3" #mat id="mat" type="radio" checked name="mat"
                    (change)=" changeRadio(mat,3)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <input *ngIf="radioMaterial!==3" #mat id="mat" type="radio" name="mat" (change)=" changeRadio(mat,3)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <label for="mat" class="ms-2 text-sm font-medium  text-white">Материалы</label>
            </div>
            <div class="flex items-center ">
                <input *ngIf="radioMaterial===4" #pursh id="pursh" type="radio" checked name="pursh"
                    (change)=" changeRadio(pursh,4)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <input *ngIf="radioMaterial!==4" #pursh id="pursh" type="radio" name="pursh"
                    (change)=" changeRadio(pursh,4)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <label for="pursh" class="ms-2 text-sm font-medium  text-white">Покупные</label>
            </div>
            <div class="flex items-center ">
                <input *ngIf="radioMaterial===5" #radioDrawings id="radioDrawings" type="radio" checked
                    name="radioDrawings" (change)="changeRadio(radioDrawings,5)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <input *ngIf="radioMaterial!==5" #radioDrawings id="radioDrawings" type="radio" name="radioDrawings"
                    (change)="changeRadio(radioDrawings,5)"
                    class="w-4 h-4 text-blue-600 bg-gray-100   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2bg-gray-700 border-gray-600">
                <label for="radioDrawings" class="ms-2 text-sm font-medium  text-white">Чертежи</label>
            </div>
        </div>

        <div class="flex gap-2">
            <div *ngIf="isDrawingInfo && blank" class="basis-5/12">
                <!--  Добавленная заготовка из материала -->
                <div *ngIf="blank!.typeBlank===3" class="mt-4 w-full relative overflow-x-auto shadow-md ">
                    <div class="flex justify-between">
                        <label class="block mb-2 mt-3 text-sm font-medium  text-white">Заготовка</label>
                        <button (click)="editBlank()" type="button"
                            class="self-center px-3 py-2 text-xs font-medium text-center text-white focus:ring-4 focus:outline-none  bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">Изменить</button>
                    </div>

                    <table class="w-full" id="tblBlank">
                        <tbody class="text-sm   bg-gray-700 text-gray-400 ">
                            <tr>
                                <td class=" py-1 w-1/12 text-center">id</td>
                                <td *ngIf="blank!.specificUnitsBlank!==2" class="w-6/12">Наименование</td>
                                <td *ngIf="blank!.specificUnitsBlank===2" class="w-5/12">Наименование</td>
                                <td class="w-2/12">Расчет</td>
                                <td *ngIf="blank!.specificUnitsBlank!==2" class="w-1/12 text-center">Коэфф.</td>
                                <td *ngIf="blank!.specificUnitsBlank===2 && (blank!.unitsBlank===1 || blank!.unitsBlank===2)"
                                    class="w-1/12 text-center">L,мм</td>
                                <td *ngIf="blank!.specificUnitsBlank===2  && blank!.unitsBlank===1"
                                    class="w-1/12 text-center">H,мм
                                </td>
                                <td *ngIf="blank!.unitsBlank===0" class="w-1/12 text-center">m,кг</td>
                                <td *ngIf="blank!.unitsBlank===1" class="w-1/12 text-center">S,м.кв.</td>
                                <td *ngIf="blank!.unitsBlank===2" class="w-1/12 text-center">L,мм.</td>
                                <td *ngIf="blank!.unitsBlank===3" class="w-1/12 text-center">шт.</td>
                                <td *ngIf="blank!.unitsBlank===4" class="w-1/12 text-center">V,л</td>
                                <td *ngIf="blank!.unitsBlank===5" class="w-1/12 text-center">V,м.куб</td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="tblDrawingBlank" class="w-full  text-sm text-left rtl:text-right  text-gray-300">
                        <tbody id="tbodyUnits">
                            <tr class="border-b bg-gray-800 border-gray-700  hover:bg-gray-600">
                                <td class=" py-1 w-1/12 text-center">
                                    {{blank!.idBlank}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank!==2" class=" py-1 w-6/12 ">
                                    {{blank!.nameBlank}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===2" class=" py-1 w-5/12 ">
                                    {{blank!.nameBlank}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===0" class=" py-1 w-2/12 ">
                                    % от m, кг
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===1" class=" py-1 w-2/12 ">
                                    % от S, м.кв
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===2" class=" py-1 w-2/12 ">
                                    Ввод данных
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===2 && (blank!.unitsBlank===1 || blank!.unitsBlank===2) "
                                    class="w-1/12 text-center">{{blank!.len}}</td>

                                <td *ngIf="blank!.specificUnitsBlank===2 && blank!.unitsBlank===1"
                                    class="w-1/12 text-center">{{blank!.h}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===2 && blank!.unitsBlank===1"
                                    class=" py-1 w-1/12 text-center">
                                    {{blank!.len!*blank!.h!/1000000 | number:"1.0-5"}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank!==2" id="percent" class=" py-1 w-1/12 text-center">
                                    {{blank!.percentBlank}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===0" id="perm" class=" py-1 w-1/12 text-center">
                                    {{blank!.percentBlank!*m!| number:"1.0-5"}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===1" id="perv" class=" py-1 w-1/12 text-center">
                                    {{blank!.percentBlank!*s!| number:"1.0-5"}}
                                </td>
                                <td *ngIf="blank!.specificUnitsBlank===2 && (blank!.unitsBlank===0||blank!.unitsBlank===3||blank!.unitsBlank===4||blank!.unitsBlank===5)"
                                    id="valueBlank" class=" py-1 w-1/12 ">
                                    {{blank!.valueBlank}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!--  Добавленная заготовка из проката -->
                <div *ngIf="blank!.typeBlank===1" class="mt-4 w-full relative overflow-x-auto shadow-md ">
                    <div class="flex justify-between">
                        <label class="block mb-2 mt-3 text-sm font-medium  text-white">Заготовка</label>
                        <button (click)="editBlank()" type="button"
                            class="self-center px-3 py-2 text-xs font-medium text-center text-white focus:ring-4 focus:outline-none  bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">Изменить</button>
                    </div>
                    <table class="w-full" id="tblBlank">
                        <tbody class="text-sm  bg-gray-700 text-gray-400 ">
                            <tr>
                                <td class="w-1/12 text-center">id</td>
                                <td *ngIf="blank!.uselength===1" class="w-6/12">Наименование</td>
                                <td *ngIf="blank!.uselength===0" class="w-4/12">Наименование</td>
                                <td class="w-1/12 text-center">Прип,мм</td>
                                <td *ngIf="blank!.uselength===1" class="w-1/12 text-center">L, мм</td>
                                <td *ngIf="blank!.uselength===0" class="w-2/12 text-center">D(B) ,мм</td>
                                <td *ngIf="blank!.uselength===0" class="w-1/12 text-center">H, мм</td>
                                <td class="w-2/12 text-center">Масса, кг</td>
                                <td *ngIf="blank!.uselength===0" class="w-1/12 text-center">Г/пл</td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="tblDrawingBlank" class="w-full  text-sm text-left rtl:text-right  text-gray-300">
                        <tbody id="tbodyUnits">
                            <tr class="border-b bg-gray-800 border-gray-700  hover:bg-gray-600">
                                <td class=" py-1 w-1/12 text-center">
                                    {{blank!.idBlank}}
                                </td>
                                <td *ngIf="blank!.uselength===1" class=" py-1 w-6/12 ">
                                    {{blank!.nameBlank}}
                                </td>
                                <td *ngIf="blank!.uselength===0" class=" py-1 w-4/12 ">
                                    {{blank!.nameBlank}}
                                </td>
                                <td class=" py-1 w-1/12 text-center">
                                    {{blank!.percentBlank!}}
                                </td>
                                <td *ngIf="blank!.uselength===1" class=" py-1 w-1/12 text-center">
                                    {{+blank!.percentBlank!+ +blank!.len!}}
                                </td>
                                <td *ngIf="blank!.uselength===0" class="w-2/12 text-center">{{+blank!.percentBlank!+
                                    +blank!.dw!}}</td>
                                <td *ngIf="blank!.uselength===0" class="w-1/12 text-center">{{+blank!.percentBlank!+
                                    +blank!.h!}}</td>
                                <td *ngIf="blank!.uselength===1" class=" py-1 w-2/12 text-center">
                                    {{blank!.blankWeight!*(+blank!.percentBlank!+ +blank!.len!)/1000 | number:"1.0-3"}}
                                </td>
                                <td *ngIf="blank!.uselength===0 && blank!.dw && !blank!.h "
                                    class=" py-1 w-2/12 text-center">
                                    {{(blank!.blankWeight!*(+blank!.percentBlank!+ +blank!.dw!)*(+blank!.percentBlank!+
                                    +blank!.dw!))/1000000 |
                                    number:"1.0-3"}}
                                </td>
                                <td *ngIf="blank!.uselength===0 && blank!.dw && blank!.h "
                                    class=" py-1 w-2/12 text-center">
                                    {{(blank!.blankWeight!*(+blank!.percentBlank!+ +blank!.dw!)*(blank!.percentBlank!+
                                    +blank!.h!))/1000000 |
                                    number:"1.0-3"}}
                                </td>
                                <td *ngIf="blank!.typeBlank===1 && blank!.uselength===0 "
                                    class=" py-1 w-2/12 text-center">
                                    <input id="plasmaSp" type="checkbox" disabled name="plasmaSp"
                                        [ngModel]="blank!.plasma"
                                        class="w-4 h-4 text-blue-600   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600">

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!--  Добавленная заготовка из метизов и покупных -->
                <div *ngIf="blank!.typeBlank===2 ||blank!.typeBlank===4 "
                    class="mt-4w-full relative overflow-x-auto shadow-md ">
                    <label class="block mb-2 mt-3 text-sm font-medium  text-white">Заготовка</label>
                    <table class="w-full" id="tblBlank">
                        <tbody class="text-sm  bg-gray-700 text-gray-400 ">
                            <tr>
                                <td class="w-2/12 text-center">id</td>
                                <td class="w-8/12">Наименование</td>
                                <td class="w-2/12 text-center">Масса, кг</td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="tblDrawingBlank" class="w-full  text-sm text-left rtl:text-right  text-gray-300">
                        <tbody id="tbodyUnits">
                            <tr class="border-b bg-gray-800 border-gray-700  hover:bg-gray-600">
                                <td class=" py-1 w-2/12 text-center">
                                    {{blank!.idBlank}}
                                </td>
                                <td class=" py-1 w-8/12 ">
                                    {{blank!.nameBlank}}
                                </td>
                                <td class=" py-1 w-2/12 text-center">
                                    {{blank!.blankWeight}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <!-- Добавленные материалы -->
            <div *ngIf="isDrawingInfo && materials.length>0"
                class="basis-7/12 mt-4  max-h-181 relative overflow-x-auto shadow-md ">
                <div class="flex justify-between">
                    <label class="block mb-2 mt-3 text-sm font-medium  text-white">Материалы</label>
                    <button (click)="editMaterial()" type="button"
                        class="self-center px-3 py-2 text-xs font-medium text-center text-white focus:ring-4 focus:outline-none  bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">Изменить</button>
                </div>

                <table class="w-full" id="tblMaterial">
                    <tbody class="text-sm   bg-gray-700 text-gray-400 ">
                        <tr>
                            <td class="w-1/12 ">
                                <svg class="  mx-auto w-6 h-3  text-white" aria-hidden="true"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                        stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5" />
                                </svg>
                            </td>
                            <td class="w-1/12 text-center">id</td>
                            <td class="w-4/12">Наименование</td>
                            <td class="w-2/12 text-center">Расчет</td>
                            <td class="w-0.5/12 text-center">L,мм</td>
                            <td class="w-0.5/12 text-center">H,мм</td>
                            <td class="w-1/12 text-center">Коэфф.</td>
                            <td class="w-1/12 text-center">Знач.</td>
                            <td class="w-1/12 text-center">Ед.изм.</td>
                        </tr>
                    </tbody>
                </table>
                <table id="tblDrawingMaterials" class="w-full  text-sm text-left rtl:text-right  text-gray-300"
                    (click)="tblMaterialsClick()">
                    <tbody id="tbodyUnits">
                        <tr class="border-b bg-gray-800 border-gray-700  hover:bg-gray-600"
                            *ngFor="let item of materials; let i=index">
                            <td class="py-1 w-1/12">
                                <div class="flex justify-center">
                                    <input type="checkbox" (change)="materialNavigator?.boxChange($event)" [id]="(i+1)"
                                        class="w-4 h-4 text-blue-600    focus:ring-blue-600 ring-offset-gray-800 focus:ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600">
                                </div>
                            </td>
                            <td class=" py-1 w-1/12 text-center ">
                                {{item.idItem}}
                            </td>
                            <td class=" py-1 w-4/12">
                                {{item.name_material}}
                            </td>
                            <td *ngIf="item.specific_units===0" class=" py-1 w-2/12 text-center">
                                % от m, кг
                            </td>
                            <td *ngIf="item.specific_units===1" class=" py-1 w-2/12 text-center">
                                % от S, м.кв
                            </td>
                            <td *ngIf="item.specific_units===2" class=" py-1 w-2/12 text-center">
                                Ввод данных
                            </td>

                            <td *ngIf="item.specific_units===2 && (item.unitsMaterial===1 || item.unitsMaterial==2)"
                                class=" py-1 w-0.5/12 text-center " id="len">
                                {{ item.lenMaterial }}
                            </td>
                            <td *ngIf="item.specific_units===2 && item.unitsMaterial===1"
                                class=" py-1 w-0.5/12 text-center ">
                                {{ item.hMaterial }}
                            </td>

                            <td *ngIf="!(item.specific_units===2 && (item.unitsMaterial===1 || item.unitsMaterial===2))"
                                id="lenempty" class=" py-1 w-0.5/12 ">

                            </td>
                            <td *ngIf="!(item.specific_units===2 && item.unitsMaterial===1)" id="hEmpty"
                                class=" py-1 w-0.5/12 ">

                            </td>
                            <td class=" py-1 w-1/12 text-center" id="percentMaterial">
                                {{item.percent}}
                            </td>

                            <td *ngIf="item.specific_units===0" class=" py-1 w-1/12 text-center" id="per*m">
                                {{item.percent! * m!}}
                            </td>
                            <td *ngIf="item.specific_units===1" class=" py-1 w-1/12 text-center" id="per*s">
                                {{item.percent! * s!}}
                            </td>
                            <td *ngIf="item.specific_units===2 && item.unitsMaterial===1"
                                class=" py-1 w-1/12 text-center" id="len*h">
                                {{item.lenMaterial!*item.hMaterial!/1000000}}
                            </td>
                            <td *ngIf="item.specific_units===2 && item.unitsMaterial!==1"
                                class=" py-1 w-1/12 text-center" id="valuemat">
                                {{item.valueMaterial}}
                            </td>

                            <td *ngIf="item.unitsMaterial===0" class=" py-1 w-1/12 text-center">
                                m,кг
                            </td>
                            <td *ngIf="item.unitsMaterial===1" class=" py-1 w-1/12 text-center">
                                S,м.кв
                            </td>
                            <td *ngIf="item.unitsMaterial===2" class=" py-1 w-1/12 text-center">
                                L,м
                            </td>
                            <td *ngIf="item.unitsMaterial===3" class=" py-1 w-1/12 text-center">
                                шт.
                            </td>
                            <td *ngIf="item.unitsMaterial===4" class=" py-1 w-1/12 text-center">
                                V,л
                            </td>
                            <td *ngIf="item.unitsMaterial===5" class=" py-1 w-1/12 text-center">
                                V,м.куб
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <!-- Спецификация -->

    <div *ngIf="isDrawingInfo && specificatios.length>0" class="mt-4   shadow-md ">
        <div class="flex gap-2 justify-between">
            <div class="flex gap-2">
                <button type="button" (click)="moveUnit(true)">
                    <kbd class="inline-flex items-center px-2 py-2  border  bg-gray-600 text-gray-100 border-gray-500">
                        <svg class="w-2.5 h-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor" viewBox="0 0 16 10">
                            <path
                                d="M9.207 1A2 2 0 0 0 6.38 1L.793 6.586A2 2 0 0 0 2.207 10H13.38a2 2 0 0 0 1.414-3.414L9.207 1Z" />
                        </svg>
                        <span class="sr-only">Arrow key up</span>
                    </kbd>
                </button>
                <button type="button" (click)="moveUnit(false)">
                    <kbd class="inline-flex items-center px-2 py-2  border  bg-gray-600 text-gray-100 border-gray-500">
                        <svg class="w-2.5 h-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor" viewBox="0 0 16 10">
                            <path
                                d="M15.434 1.235A2 2 0 0 0 13.586 0H2.414A2 2 0 0 0 1 3.414L6.586 9a2 2 0 0 0 2.828 0L15 3.414a2 2 0 0 0 .434-2.179Z" />
                        </svg>
                        <span class="sr-only">Arrow key down</span>
                    </kbd>
                </button>
                <label class="block mb-2 mt-3 text-sm font-medium  text-white">Спецификация</label>
            </div>
            <button (click)="editTableSpesification()" type="button"
                class="self-center px-3 py-2 text-xs font-medium text-center text-white focus:ring-4 focus:outline-none  bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">Изменить</button>
        </div>
    </div>

    <table *ngIf="isDrawingInfo && specificatios.length>0" class="w-full " id="headSpecification" >
        <tbody class="text-sm   bg-gray-700 text-gray-400  ">
            <tr>
                <td class="w-0.5/12 text-center py-2">
                    <svg class="  mx-auto w-6 h-3  text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                        fill="none" viewBox="0 0 16 12">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M1 5.917 5.724 10.5 15 1.5" />
                    </svg>
                </td>
                <td class="w-0.5/12 text-center">№ п/п</td>
                <td class="w-0.5/12 text-center">id</td>
                <td class="w-1.5/12 pl-3">Номер</td>
                <td class="w-1.5/12 ">Наименование</td>
                <td class="w-0.5/12 text-center">Кол.</td>
                <td class="w-1/12 text-center">Масса,кг</td>
                <td class="w-0,5/12 text-center">S м.кв.</td>
                <td class="w-1.5/12 ">Заготовка</td>
                <td class="w-0,5/12 text-center">Расчет</td>
                <td class="w-0.5/12 text-center">L,мм</td>
                <td class="w-0.5/12 text-center">D(B),мм</td>
                <td class="w-0.5/12 text-center">H,мм</td>
                <td class="w-0.5/12 text-center">Коэфф.</td>
                <td class="w-0.5/12 text-center">Знач.</td>
                <td class="w-0.5/12 text-center">Ед.изм.</td>
                <td class="w-0.5/12 text-center">Г/плзм.</td>
            </tr>
        </tbody>
    </table>
    <div #divSP *ngIf="isDrawingInfo && specificatios.length>0" class=" max-h-160 relative overflow-x-auto shadow-md "  [ngStyle]="{'width': hasScroll ? 'calc(100% + 22px)' : '100%'}"  id="divSP">
        <table id="tblSpecification"   (click)="tblSpesificationClick()" 
            class="w-full  text-sm text-left rtl:text-right  text-gray-300    ">
            <tbody id="tbodySpecification">
                <tr class="border-b bg-gray-800 border-gray-700  hover:bg-gray-600"
                [ngClass]="(item.type_position === 5 && item.isSB === 1) ? 'text-teal-300' : item.type_position !== 5 ? 'text-orange-200' : ''"
               
                     *ngFor="let item of specificatios; let i = index">
                    <td class="py-1 w-0.5/12 ">
                        <div class="flex justify-center">
                            <input type="checkbox" (change)="spNavigator?.boxChange($event)"
                                class="w-4 h-4 text-blue-600    focus:ring-blue-600 ring-offset-gray-800 focus:ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600">
                        </div>
                    </td>
                    <td class=" py-1 w-0.5/12 text-center text-sky-200">
                        {{ i+1 }}
                    </td>
                    <td class=" py-1 w-0.5/12 text-center ">
                        {{ item.idItem }}
                    </td>
                    <td class=" py-1 w-1.5/12 ">
                        {{item.numberDrawing}}
                    </td>
                   
                    <td *ngIf="item.type_position===5" class=" py-1 w-1.5/12" id="name">
                        <button class="font-medium hover:underline cursor-pointer"
                        (click)="showImageDrawing($event.target)">{{item.nameDrawing}}</button> 
                    </td>
                    <td *ngIf="item.type_position!==5" class=" py-1 w-1.5/12" id="name">
                        {{item.nameDrawing}}
                   </td>
                    <td class=" py-1 w-0.5/12 text-center" id="qvolity">
                        {{item.quantity}}
                    </td>
                    <td *ngIf="item.type_position!==1" class=" py-1 w-1/12 text-center" id="weight1">
                        {{item.weight | number:"1.0-3"}}
                    </td>
                    
                    <td *ngIf="item.type_position===1 && item.uselength===1" class=" py-1 w-1/12 text-center" id="rol1">
                        {{item.len!*item.weight!/1000 | number:"1.0-3"}}
                    </td>
                    <td *ngIf="item.type_position===1 && item.uselength===0" class=" py-1 w-1/12 text-center" id="rol2">
                        {{(item.h?item.dw!*item.h!:item.dw!*item.dw!)/1000000*item.weight! | number:"1.0-3"}}
                    </td>
                    <td  class=" py-1 w-0.5/12 text-center" >
                        {{item.s | number:"1.0-3"}}
                    </td>
                    <td class=" py-1 w-1.5/12 " id="nameBlank">
                        {{item.name_item}}
                    </td>
                    <td *ngIf="item.specific_units===0" class=" py-1 w-0.5/12 text-center" id="from m">
                        % от m, кг
                    </td>
                    <td *ngIf="item.specific_units===1" class=" py-1 w-0.5/12 text-center" id="from s">
                        % от S, м.кв
                    </td>
                    <td *ngIf="item.specific_units===2" class=" py-1 w-0.5/12 text-center" id="inputData">
                        Ввод данных
                    </td>
                    <td *ngIf="!(item.specific_units===0 || item.specific_units===1 || item.specific_units===2)"
                        id="pusto" class=" py-1 w-0.5/12 text-center">
                    </td>
                    <td class=" py-1 w-0.5/12 text-center " id="len">
                        {{ item.len }}
                    </td>
                    <td class=" py-1 w-0.5/12 text-center " id="dw">
                        {{ item.dw }}
                    </td>
                    <td class=" py-1 w-0.5/12 text-center " id="h">
                        {{ item.h }}
                    </td>
                    <td class=" py-1 w-0.5/12 text-center" id="percentMaterial">
                        {{item.percent}}
                    </td>

                    <td class=" py-1 w-0.5/12 text-center" id="value">
                        {{item.value | number:"1.0-3"}}
                    </td>
                    <td *ngIf="item.type_position===1 || item.type_position===2|| item.type_position===4 || item.noBlank==='noBlank'"
                        class=" py-1 w-0.5/12 text-center" id="typepos!3">
                    </td>
                    <td *ngIf="(item.type_position===3 && item.units===0) || (item.type_position===5 && item.units===undefined && item.noBlank===undefined)||(item.type_position===5 && item.units===0) "
                        id="m kq" class=" py-1 w-0.5/12 text-center">
                        m,кг
                    </td>
                    <td *ngIf="item.units===1" class=" py-1 w-0.5/12 text-center">
                        S,м.кв
                    </td>
                    <td *ngIf="item.units===2" class=" py-1 w-0.5/12 text-center">
                        L,мм
                    </td>
                    <td *ngIf="item.units===3" class=" py-1 w-0.5/12 text-center">
                        шт.
                    </td>
                    <td *ngIf="item.units===4" class=" py-1 w-0.5/12 text-center">
                        V,л
                    </td>
                    <td *ngIf="item.units===5" class=" py-1 w-0.5/12 text-center">
                        V,м.куб
                    </td>
                    <td class=" py-1 w-0.5/12 text-center" id="plasmaTd">
                        <input
                            *ngIf="(item.type_position===1 && item.uselength===0 ) || (item.type_position===5 && item.uselength===0)"
                            [(ngModel)]="item.plasma" [name]="i+'plasmaSp'" [id]="i+'plasmaSp'" type="checkbox" disabled
                            class="w-4 h-4 text-blue-600   focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
